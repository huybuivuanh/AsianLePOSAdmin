[debug] [2025-10-05T19:19:50.815Z] ----------------------------------------------------------------------
[debug] [2025-10-05T19:19:50.816Z] Command:       D:\NVM Nodejs\nodejs\node.exe C:\Users\Bui Vu Anh Huy\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only apphosting
[debug] [2025-10-05T19:19:50.816Z] CLI Version:   14.18.0
[debug] [2025-10-05T19:19:50.816Z] Platform:      win32
[debug] [2025-10-05T19:19:50.816Z] Node Version:  v22.16.0
[debug] [2025-10-05T19:19:50.816Z] Time:          Sun Oct 05 2025 13:19:50 GMT-0600 (Central Standard Time)
[debug] [2025-10-05T19:19:50.817Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-10-05T19:19:50.916Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-10-05T19:19:50.916Z] > authorizing via signed-in user (huy.buivu12345@gmail.com)
[debug] [2025-10-05T19:19:50.916Z] [iam] checking project asianlepos for permissions ["firebase.projects.get",null]
[debug] [2025-10-05T19:19:50.917Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:50.917Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:50.917Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/asianlepos:testIamPermissions [none]
[debug] [2025-10-05T19:19:50.917Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/asianlepos:testIamPermissions x-goog-quota-user=projects/asianlepos
[debug] [2025-10-05T19:19:50.917Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/asianlepos:testIamPermissions {"permissions":["firebase.projects.get",null]}
[debug] [2025-10-05T19:19:51.269Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/asianlepos:testIamPermissions 200
[debug] [2025-10-05T19:19:51.269Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/asianlepos:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2025-10-05T19:19:51.269Z] [iam] error while checking permissions, command may fail: Authorization failed. This account is missing the following required permissions on project asianlepos:

  
[info] 
[info] === Deploying to 'asianlepos'...
[info] 
[info] i  deploying apphosting 
[debug] [2025-10-05T19:19:51.272Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:51.272Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:51.272Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/asianlepos/serviceAccounts/firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-10-05T19:19:51.272Z] >>> [apiv2][(partial)header] POST https://iam.googleapis.com/v1/projects/asianlepos/serviceAccounts/firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com:testIamPermissions x-goog-quota-user=projects/asianlepos
[debug] [2025-10-05T19:19:51.272Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/asianlepos/serviceAccounts/firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-10-05T19:19:51.585Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/asianlepos/serviceAccounts/firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com:testIamPermissions 200
[debug] [2025-10-05T19:19:51.585Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/asianlepos/serviceAccounts/firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-10-05T19:19:51.586Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:51.586Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:51.586Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/asianlepos/serviceAccounts [none]
[debug] [2025-10-05T19:19:51.586Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/asianlepos/serviceAccounts {"accountId":"firebase-app-hosting-compute","serviceAccount":{"displayName":"Firebase App Hosting compute service account","description":"Default service account used to run builds and deploys for Firebase App Hosting"}}
[debug] [2025-10-05T19:19:51.973Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/asianlepos/serviceAccounts 409
[debug] [2025-10-05T19:19:51.973Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/asianlepos/serviceAccounts [omitted]
[debug] [2025-10-05T19:19:51.974Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:51.974Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:51.974Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/asianlepos:getIamPolicy [none]
[debug] [2025-10-05T19:19:52.185Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/asianlepos:getIamPolicy 200
[debug] [2025-10-05T19:19:52.185Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/asianlepos:getIamPolicy {"version":1,"etag":"BwZATYQQJII=","bindings":[{"role":"roles/artifactregistry.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-artifactregistry.iam.gserviceaccount.com"]},{"role":"roles/cloudaicompanion.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-cloudaicompanion.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:173502388712@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-173502388712@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-173502388712@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-devconnect.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:173502388712-compute@developer.gserviceaccount.com","serviceAccount:173502388712@cloudservices.gserviceaccount.com","serviceAccount:asianlepos@appspot.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-173502388712@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@asianlepos.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/firebasemods.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-firebasemods.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-173502388712@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:huy.buivu12345@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-173502388712@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/secretmanager.admin","members":["serviceAccount:service-173502388712@gcp-sa-devconnect.iam.gserviceaccount.com"]},{"role":"roles/secretmanager.admin_withcond_431491563a8b0d65a58e","members":["serviceAccount:service-173502388712@gcp-sa-devconnect.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com"]}]}
[debug] [2025-10-05T19:19:52.185Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:52.185Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:52.185Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/asianlepos:setIamPolicy [none]
[debug] [2025-10-05T19:19:52.186Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/asianlepos:setIamPolicy {"policy":{"version":1,"etag":"BwZATYQQJII=","bindings":[{"role":"roles/artifactregistry.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-artifactregistry.iam.gserviceaccount.com"]},{"role":"roles/cloudaicompanion.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-cloudaicompanion.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:173502388712@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-173502388712@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-173502388712@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-devconnect.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:173502388712-compute@developer.gserviceaccount.com","serviceAccount:173502388712@cloudservices.gserviceaccount.com","serviceAccount:asianlepos@appspot.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-173502388712@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@asianlepos.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/firebasemods.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-firebasemods.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-173502388712@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:huy.buivu12345@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-173502388712@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/secretmanager.admin","members":["serviceAccount:service-173502388712@gcp-sa-devconnect.iam.gserviceaccount.com"]},{"role":"roles/secretmanager.admin_withcond_431491563a8b0d65a58e","members":["serviceAccount:service-173502388712@gcp-sa-devconnect.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com"]}]},"updateMask":"bindings"}
[debug] [2025-10-05T19:19:52.722Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/asianlepos:setIamPolicy 200
[debug] [2025-10-05T19:19:52.723Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/asianlepos:setIamPolicy {"version":1,"etag":"BwZAbjghp+Y=","bindings":[{"role":"roles/artifactregistry.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-artifactregistry.iam.gserviceaccount.com"]},{"role":"roles/cloudaicompanion.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-cloudaicompanion.iam.gserviceaccount.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:173502388712@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/cloudfunctions.serviceAgent","members":["serviceAccount:service-173502388712@gcf-admin-robot.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-173502388712@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-devconnect.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:173502388712-compute@developer.gserviceaccount.com","serviceAccount:173502388712@cloudservices.gserviceaccount.com","serviceAccount:asianlepos@appspot.gserviceaccount.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-173502388712@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@asianlepos.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/firebaseauth.admin","members":["serviceAccount:firebase-adminsdk-fbsvc@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/firebasemods.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-firebasemods.iam.gserviceaccount.com"]},{"role":"roles/firebaserules.system","members":["serviceAccount:service-173502388712@firebase-rules.iam.gserviceaccount.com"]},{"role":"roles/firestore.serviceAgent","members":["serviceAccount:service-173502388712@gcp-sa-firestore.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@asianlepos.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:huy.buivu12345@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-173502388712@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/secretmanager.admin","members":["serviceAccount:service-173502388712@gcp-sa-devconnect.iam.gserviceaccount.com"]},{"role":"roles/secretmanager.admin_withcond_431491563a8b0d65a58e","members":["serviceAccount:service-173502388712@gcp-sa-devconnect.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com"]}]}
[debug] [2025-10-05T19:19:52.723Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:52.723Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:52.723Z] >>> [apiv2][query] GET https://firebaseapphosting.googleapis.com/v1beta/projects/asianlepos/locations/-/backends 
[debug] [2025-10-05T19:19:53.272Z] <<< [apiv2][status] GET https://firebaseapphosting.googleapis.com/v1beta/projects/asianlepos/locations/-/backends 200
[debug] [2025-10-05T19:19:53.272Z] <<< [apiv2][body] GET https://firebaseapphosting.googleapis.com/v1beta/projects/asianlepos/locations/-/backends {"backends":[{"name":"projects/asianlepos/locations/us-central1/backends/asianlepos-backend","createTime":"2025-10-04T03:14:20.414921211Z","updateTime":"2025-10-04T03:14:21.888285Z","uri":"asianlepos-backend--asianlepos.us-central1.hosted.app","codebase":{"repository":"projects/asianlepos/locations/us-central1/connections/apphosting-github-conn-5b2s7526/gitRepositoryLinks/huybuivuanh-AsianLePOSAdmin","rootDirectory":"/"},"uid":"c029aad9-7727-417e-8c15-97f30f006fa4","etag":"SiEZUg1u3Yf6apApV17YjTwUE6lJUaAOZshr-2DLSlc","reconciling":false,"servingLocality":"GLOBAL_ACCESS","serviceAccount":"firebase-app-hosting-compute@asianlepos.iam.gserviceaccount.com","appId":"1:173502388712:web:234143e63b050935f72c5d"}]}
[info] i  apphosting: Found backend(s) asianlepos-backend 
[debug] [2025-10-05T19:19:53.273Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:53.273Z] Checked if tokens are valid: true, expires at: 1759694374276
[debug] [2025-10-05T19:19:53.273Z] >>> [apiv2][query] GET https://developerconnect.googleapis.com/v1/projects/asianlepos/locations/us-central1/connections/apphosting-github-conn-5b2s7526/gitRepositoryLinks/huybuivuanh-AsianLePOSAdmin [none]
[debug] [2025-10-05T19:19:53.626Z] <<< [apiv2][status] GET https://developerconnect.googleapis.com/v1/projects/asianlepos/locations/us-central1/connections/apphosting-github-conn-5b2s7526/gitRepositoryLinks/huybuivuanh-AsianLePOSAdmin 200
[debug] [2025-10-05T19:19:53.626Z] <<< [apiv2][body] GET https://developerconnect.googleapis.com/v1/projects/asianlepos/locations/us-central1/connections/apphosting-github-conn-5b2s7526/gitRepositoryLinks/huybuivuanh-AsianLePOSAdmin {"name":"projects/asianlepos/locations/us-central1/connections/apphosting-github-conn-5b2s7526/gitRepositoryLinks/huybuivuanh-AsianLePOSAdmin","cloneUri":"https://github.com/huybuivuanh/AsianLePOSAdmin.git","createTime":"2025-10-04T03:12:10.305661182Z","updateTime":"2025-10-04T03:12:10.757959517Z"}
[debug] [2025-10-05T19:20:06.766Z] ExitPromptError: User force closed the prompt with SIGINT
    at Interface.sigint (C:\Users\Bui Vu Anh Huy\AppData\Roaming\npm\node_modules\firebase-tools\node_modules\@inquirer\core\dist\commonjs\lib\create-prompt.js:101:37)
    at Interface.emit (node:events:518:28)
    at Interface.emit (node:domain:489:12)
    at [_ttyWrite] [as _ttyWrite] (node:internal/readline/interface:1128:18)
    at ReadStream.onkeypress (node:internal/readline/interface:267:20)
    at ReadStream.emit (node:events:530:35)
    at ReadStream.emit (node:domain:489:12)
    at emitKeys (node:internal/readline/utils:370:14)
    at emitKeys.next (<anonymous>)
    at ReadStream.onData (node:internal/readline/emitKeypressEvents:64:36)
[error] 
[error] Error: An unexpected error has occurred.
